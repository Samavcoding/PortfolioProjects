Select *
From PortfolioProject.dbo.NashvilleHousing

--standardize saledate

Select SaleDate, CONVERT(date,SaleDate)
From PortfolioProject.dbo.NashvilleHousing

Update NashvilleHousing
SET SaleDate = CONVERT(date,SaleDate)

Alter Table NashvilleHousing 
Add SaleDateConverted Date

Update NashvilleHousing
Set SaleDateConverted  = CONVERT(date,SaleDate)

Select SaleDateConverted
From PortfolioProject.dbo.NashvilleHousing

--Populate Property Address Data

Select a.ParcelID, b.ParcelID, a.PropertyAddress, b.PropertyAddress, ISNULL(a.propertyAddress,b.PropertyAddress)
From NashvilleHousing a
Join NashvilleHousing b
	on a.ParcelID = b.ParcelID
	and a.[UniqueID ] <> b.[UniqueID ]
Where a.PropertyAddress IS Null

Update a
SET PropertyAddress = ISNULL(a.propertyAddress,b.PropertyAddress)
From NashvilleHousing a
Join NashvilleHousing b
	on a.ParcelID = b.ParcelID
	and a.[UniqueID ] <> b.[UniqueID ]
Where a.PropertyAddress IS Null


--Breaking Out Address Into Individual Columns (Address, City , State)

Select 
	SUBSTRING(PropertyAddress,1,CHARINDEX(',',PropertyAddress)-1) as Address,
	SUBSTRING(PropertyAddress,CHARINDEX(',',PropertyAddress)+1,LEN(PropertyAddress)) as City,
From NashvilleHousing

Alter Table NashvilleHousing 
Add PropertySplitAddress nvarchar(255);

Update NashvilleHousing
Set PropertySplitAddress  = SUBSTRING(PropertyAddress,1,CHARINDEX(',',PropertyAddress)-1)  

Alter Table NashvilleHousing 
Add PropertySplitCity nvarchar(255);

Update NashvilleHousing
Set PropertySplitCity  = SUBSTRING(PropertyAddress,CHARINDEX(',',PropertyAddress)+1,LEN(PropertyAddress))
